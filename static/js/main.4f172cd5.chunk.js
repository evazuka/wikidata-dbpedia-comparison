(this["webpackJsonpfamily-tree"]=this["webpackJsonpfamily-tree"]||[]).push([[0],{81:function(t,n,e){t.exports=e(87)},86:function(t,n,e){},87:function(t,n,e){"use strict";e.r(n);var r=e(23),a=e.n(r),i=e(7),o=e(8),c=e(9),s=e(25),d=e(24),u=e(1),l=e.n(u),p=(e(86),e(3)),f=function(){function t(n){Object(i.a)(this,t),this.endpoint=void 0,this.endpoint=n}return Object(o.a)(t,[{key:"query",value:function(t){var n=this.endpoint+"?query="+encodeURIComponent(t);return fetch(n,{headers:{Accept:"application/sparql-results+json"}}).then((function(t){return t.json()}))}}]),t}(),h=function(t){Object(s.a)(e,t);var n=Object(d.a)(e);function e(t){var r;return Object(i.a)(this,e),(r=n.call(this,t)).endpointUrl="https://query.wikidata.org/sparql",r.sparqlQuery='SELECT DISTINCT ?person ?personLabel ?yob ?yod ?descendant ?descendantLabel ?pic WHERE {\n        wd:Q9682 wdt:P40* ?person .\n        ?person wdt:P40 ?descendant .\n        ?descendant wdt:P569 ?dob .\n  OPTIONAL { ?descendant wdt:P18 ?picture . }\n  OPTIONAL {?person wdt:P570 ?dod . }\n  BIND(YEAR(?dob) as ?yob) .\n  BIND(YEAR(?dod) as ?yod) .\n  BIND(COALESCE(?picture, "") as ?pic) .\n        SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }\n      }',r.queryDispatcher=new f(r.endpointUrl),r.state=void 0,r.ref=void 0,r.renderD3=function(t){console.log(t.results.bindings);var n=t.results.bindings.map((function(t){return{id:t.descendant.value,name:t.descendantLabel.value,yob:t.yob.value,picture:t.pic.value,parent:t.person.value}}));n.unshift({id:"http://www.wikidata.org/entity/Q9682",name:"Elizabeth II",parent:""}),console.log(n);var e=function(t){var n=p.c().id((function(t){return t.id})).parentId((function(t){return t.parent}))(t);return p.d().nodeSize([50,150])(n)}(n),a=1/0,i=-a;e.each((function(t){t.x>i&&(i=t.x),t.x<a&&(a=t.x)}));var o=p.b(r.ref).append("g").attr("font-family","sans-serif").attr("font-size",10).attr("transform","translate(".concat(100/3,",").concat(100-a,")")),c=(o.append("g").attr("fill","none").attr("stroke","#555").attr("stroke-opacity",.4).attr("stroke-width",1.5).selectAll("path").data(e.links()).join("path").attr("d",p.a().x((function(t){return t.y})).y((function(t){return t.x}))),o.append("g").attr("stroke-linejoin","round").attr("stroke-width",3).selectAll("g").data(e.descendants()).join("g").attr("transform",(function(t){return"translate(".concat(t.y,",").concat(t.x,")")})));c.append("svg:circle").attr("r",20),c.append("svg:image").attr("class","circle").attr("xlink:href",(function(t){return t.data.picture})).attr("x",(function(t){return-25})).attr("y",(function(t){return-25})).attr("height",50).attr("width",50).style("fill",(function(t){return t.data.picture})),c.append("text").attr("dy","0.31em").attr("x",(function(t){return t.children?-6:6})).attr("text-anchor",(function(t){return t.children?"end":"start"})).text((function(t){return t.data.name})).clone(!0).lower().attr("stroke","white"),c.append("text").attr("dy","1.3em").attr("x",(function(t){return t.children?-6:6})).attr("text-anchor",(function(t){return t.children?"end":"start"})).text((function(t){return t.data.yob})).clone(!0).lower().attr("stroke","white")},r.state=null,r.queryDispatcher.query(r.sparqlQuery).then(r.renderD3.bind(Object(c.a)(r))),r}return Object(o.a)(e,[{key:"render",value:function(){var t=this;return l.a.createElement("svg",{className:"container",ref:function(n){return t.ref=n},width:800,height:1e3})}}]),e}(l.a.Component);a.a.render(l.a.createElement(h,null),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.4f172cd5.chunk.js.map